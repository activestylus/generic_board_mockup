function changeUrl(){document.location.href=document.getElementById("choose_language").value}Array.prototype.chunk=function(a){var b=this;return[].concat.apply([],b.map(function(c,d){return d%a?[]:[b.slice(d,d+a)]}))},Array.prototype.clean=function(a){for(var b=0;b<this.length;b++)this[b]==a&&(this.splice(b,1),b--);return this},Array.prototype.has=function(a){for(i=0;i<this.length;i++)if(this[i]==a)return i;return!1};var FileNav={init:function(){var a=$("#file-nav .togglee");$("#file-nav").bind("clickoutside",function(b){a.is(":visible")&&(a.hide("slide"),$("#file-nav .toggler").toggleClass("open"))}),$("#head").bind("inview",function(a,b,c){b==1?c!="top"&&c!="bottom"&&$("#file-nav").removeClass("light"):$("#file-nav").addClass("light")})}},SlideShow={init:function(){var a=$("#slideshow");a.jcarousel({wrap:"circular"}),$("#slide-left").click(function(){return a.jcarousel("scroll","-=3"),!1}),$("#slide-right").click(function(){return a.jcarousel("scroll","+=3"),!1}),setInterval(function(){a.jcarousel("scroll","+=3")},8e3)}},Selections={init:function(){$("#select-all").click(function(){var a=$(this),b=$("table#select").find("td input[type=checkbox]");$.each(b,function(){a.is(":checked")?$(this).attr("checked",!0):$(this).attr("checked",!1)})})}},Toggler={init:function(){$(".toggler").click(function(){var a=$(this).next(".togglee");return a.is(":hidden")?a.slideDown():a.slideUp(),$(this).toggleClass("open"),!1})}},AdvancedSearch={init:function(){$("#advanced_search").hide(),$("#toggle_advanced_search").click(function(){var a=$(this),b=$("#advanced_search");return b.is(":hidden")?b.slideDown():b.slideUp(),a.toggleClass("open"),a.hasClass("open")?a.html("Fewer options"):a.html("Search more options"),!1})}},DropDownMenu={init:function(){$(".dropdown").bind("clickoutside",function(a){$(this).find(".dropdown-menu").slideUp(),$(this).find(".dropdown-toggle").toggleClass("open")}),$(".dropdown-toggle").click(function(){var a=$(this).next(".dropdown-menu");a.is(":hidden")?a.slideDown():a.slideUp()})}},HoverScroll={init:function(){var a=$(".scroll-pane").jScrollPane({showArrows:!0}).data("jsp");$(".hoverscroll.down").bind("mouseover",function(){var b,c=$(this),d=function(){a.scrollByY(5)};c.bind("mouseout.demo",function(){clearInterval(b),c.unbind("mouseout.demo")}),d(),b=setInterval(d,50)}),$(".hoverscroll.up").bind("mouseover",function(){var b,c=$(this),d=function(){a.scrollByY(-5)};c.bind("mouseout.demo",function(){clearInterval(b),c.unbind("mouseout.demo")}),d(),b=setInterval(d,50)})}},ModalWindow={init:function(){var a=new ModalDialog("#modal"),b=["#s--modalbox-overlay","#btn-close"];$("#modal-trigger").click(function(){return a.show(),!1}),$.each(b,function(b,c){$(c).on("click",function(){return a.hide(),!1})})}},Dom={addText:function(a,b){return a.appendChild(document.createTextNode(b)),!1},copyAttributes:function(a,b){for(var c=0,d=a.attributes;c<d.length;c++)b.setAttribute(d[c].name,d[c].value)},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},cleanText:function(a){return a.replace("&amp;","").replace("&","").replace("[x]","")}},MultiLevelSelect={init:function(){return this.cloneSelects(),this.createParentMenus(this),this.createChildMenus(this),this.watchTogglers(),this.watchParentLinks(this),this.watchChildLinks(this),this.watchTokenRemovers(this),this.togglePopups(),!1},cloneSelects:function(){return $.each($("select.pop-menu"),function(a,b){var c=document.createDocumentFragment(),d=document.createElement("input");d.setAttribute("type","hidden"),Dom.copyAttributes(b,d),Dom.insertAfter(b,c.appendChild(d))}),!1},createParentMenus:function(a){return $.each($("select.pop-menu.parent"),function(b,c){var d=a.selectToHash(c),e=d.industries,f=a.getChunk(c,e),g=a.createHtmlMenu("industries",e,f,"parent"),h=document.createElement("div");h.setAttribute("class","pop-parent-label"),Dom.insertAfter(c,h),Dom.insertAfter(c,g),a.createToggler(c,"#pop-industries","parent"),c.parentNode.removeChild(c)}),!1},createChildMenus:function(a){return $.each($("select.pop-menu.child"),function(b,c){var d=a.selectToHash(c);$.each(d,function(e,f){var g=d[e],h=a.getChunk(c,g),j=a.createHtmlMenu(b++ +1,g,h,"child");Dom.insertAfter(c,j)});var e=document.createDocumentFragment(),f=document.createElement("div");f.setAttribute("class","pop-tokens"),e.appendChild(f),Dom.insertAfter(c,e),a.createToggler(c,"#pop-"+(b+1),"child"),c.parentNode.removeChild(c)}),!1},createToggler:function(a,b,c){var d=document.createDocumentFragment(),e=document.createElement("a"),f=a.getAttribute("data-name");return e.setAttribute("href",b),e.setAttribute("class","pop-toggler btn btn-go "+c),Dom.addText(e,f),d.appendChild(e),Dom.insertAfter(a,d),!1},toggleChildSelections:function(a,b,c,d){var e=$(c),f=e.val().split(","),g=b.attr("title"),h=e.parent().find(".pop-tokens").first();return d?(f.pop(g),a.removeHtmlToken(e,g)):$.inArray(g,f)==-1&&(f.push(g),h.append(a.createHtmlToken(g))),f.clean(""),e.val(f.clean("").join(",")),!1},createHtmlToken:function(a){var b=document.createDocumentFragment(),c=document.createElement("span"),d=document.createElement("a");return c.setAttribute("class","pop-token"),d.setAttribute("class","pop-token-remove"),d.setAttribute("title",a),d.setAttribute("href","#"),Dom.addText(d,"[x]"),Dom.addText(c,a),c.appendChild(d),c},removeHtmlToken:function(a,b){var c=a.parent().find(".pop-token");$.each(c,function(a,c){var d=Dom.cleanText($(c).text()),e=Dom.cleanText(b);console.log("source:"+d),console.log("check:"+e),d.match(new RegExp(e))&&c.parentNode.removeChild(c)})},watchTokenRemovers:function(a){$(document).on("click","a.pop-token-remove",function(){var b=$(this),c=b.closest(".pop-tokens").parent().find("input.pop-menu.child").first(),d=c.parent().find("div.popup-menu a");return a.toggleChildSelections(a,b,c.get(0),!0),$.each(d,function(a,c){b.attr("title")===c.getAttribute("title")&&$(c).removeClass("selected")}),b.parent().remove(),!1})},watchChildLinks:function(a){return $(".pop.child").find("a").on("click",function(b){var c=$(this),d=c.closest(".pop.child").parent(),e=d.find("input.pop-menu.child"),f=c.hasClass("selected");return c.toggleClass("selected"),a.toggleChildSelections(a,c,e,f),!1}),!1},watchParentLinks:function(a){return $(".pop.parent").find("a").on("click",function(a){var b=$(this),c=b.closest(".pop.parent").parent(),d=b.attr("href"),e=c.find("a.pop-toggler.child"),f=c.find("input.pop-menu.parent"),g=c.find("input.pop-menu.child"),h=c.parent().find(".pop-parent-label").first();return b.closest(".parent").find(".child .pop-menu a").removeClass("selected"),e.attr("href",d),f.val(b.attr("title")),g.val(""),h.text(b.attr("title")),c.parent().find(".pop-tokens").first().html(""),c.parent().find(".pop-toggler.child").fadeIn(),!1}),!1},watchTogglers:function(){$("a.pop-toggler").on("click",function(a){var b=$($(this).attr("href"));return $(".pop").fadeOut(),b.is(":hidden")?b.slideDown():b.slideUp(),!1})},selectToHash:function(a){var b={},c=a.getAttribute("data-name");if(a.getAttribute("class").match(/parent/)){var d=[];$.each(a.getElementsByTagName("option"),function(a,b){d.push(b.value)}),b.industries=d}else $.each(a.getElementsByTagName("optgroup"),function(a,c){var d=[],e=c.getAttribute("label");$.each(c.getElementsByTagName("option"),function(a,b){d.push(b.value)}),b[e]=d});return b},getChunk:function(a,b){var c=parseInt(a.getAttribute("data-columns")),d=~~(b.length/c)+1;return d},createHtmlMenu:function(a,b,c,d){var e=document.createDocumentFragment(),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),i=[];return f.setAttribute("class","pop "+d),f.setAttribute("id","pop-"+a),g.setAttribute("class","menu-wrap"),h.setAttribute("class","popup-menu"),$.each(b.chunk(c),function(a,b){var c=document.createElement("ul");$.each(b,function(b,d){var e=document.createElement("li"),f=document.createElement("a");f.setAttribute("href","#pop-"+(a++ +1)),f.setAttribute("title",d),Dom.addText(f,d),e.appendChild(f),c.appendChild(e)}),i.push(c)}),$.each(i,function(a,b){h.appendChild(b)}),g.appendChild(h),f.appendChild(g),e.appendChild(f),e},togglePopups:function(){$(".popup-menu").bind("clickoutside",function(a){$(this).is(":visible")&&$(this).parent().parent().fadeOut()}),$(".popup-menu").find("a").on("click",function(a){self=$(this);var b=self.parent().parent().parent(),c=$(b.attr("data-target"));return self.closest(".pop").hasClass("parent")&&b.parent().parent().fadeOut(),c.text(self.text()),!1})}},PrintPage={init:function(){$("a#print-me")&&$("a#print-me").click(function(){return window.print(),!1})}};$(function(){PrintPage.init(),MultiLevelSelect.init(),SlideShow.init(),AdvancedSearch.init(),DropDownMenu.init(),FileNav.init(),HoverScroll.init(),ModalWindow.init(),Selections.init(),Toggler.init()})